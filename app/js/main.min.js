"use strict";let navItems=[...document.querySelectorAll(".slider-dots__box")],slideItems=[...document.querySelectorAll(".slider-item")],navBox=document.querySelector(".slider-dots"),buttonRight=document.querySelector(".header__button--right"),buttonLeft=document.querySelector(".header__button--left"),slideNumber=0,travelSlideNumber=0,sleepSlideNumber=0,shopSlideNumber=0,northItems=[...document.querySelectorAll(".north-shore")],southItems=[...document.querySelectorAll(".south-shore")],westItems=[...document.querySelectorAll(".west-shore")],eastItems=[...document.querySelectorAll(".east-shore")],mapLines={0:northItems,1:southItems,2:westItems,3:eastItems},container=document.querySelector(".container"),windowWidth=container.clientWidth,x1=null,position=0,slidesToShow=4,slidesToScrol=1,surfContainer=document.querySelector(".surf-slider"),track=document.querySelector(".surf-slider__track"),slides=[...document.querySelectorAll(".surf-box")],slidesInner=[...document.querySelectorAll(".surf-box__inner")],slidesCount=slides.length,SurfButtonRight=document.querySelector(".surf__button--right"),SurfButtonLeft=document.querySelector(".surf__button--left"),slideWidth=surfContainer.clientWidth/slidesToShow,movePosition=slidesToScrol*slideWidth,surfActiveslideNumber=1;windowWidth<530&&(surfActiveslideNumber=0);let cards=document.querySelectorAll(".world-map__content"),cardLocNames=document.querySelectorAll(".world-map__content-title"),guestMinusButton=document.querySelectorAll(".guests-minus"),guestPlusButton=document.querySelectorAll(".guests-plus"),nightMinusButton=document.querySelectorAll(".nights-minus"),nightPlusButton=document.querySelectorAll(".nights-plus"),nightsCount=document.querySelectorAll(".nights-count"),guestsCount=document.querySelectorAll(".guests-count"),quantity=document.querySelectorAll(".quantity"),price=document.querySelectorAll(".price"),surfBoardCircleBtn=document.querySelectorAll(".surfboard-box__circle"),travelSlides=document.querySelectorAll(".holder-slide--travel"),sleepSlides=document.querySelectorAll(".holder-slide--sleep"),travelLeftButton=document.querySelector(".travel__button--left"),travelRightButton=document.querySelector(".travel__button--right"),sleepLeftButton=document.querySelector(".sleep__button--left"),sleepRightButton=document.querySelector(".sleep__button--right"),shopLeftButton=document.querySelector(".shop__button--left"),shopRightButton=document.querySelector(".shop__button--right"),shopSlides=document.querySelectorAll(".shop__slider-item"),menuBtn=document.querySelector(".menu-btn"),menu=document.querySelector(".menu"),anchors=document.querySelectorAll('a[href*="#"]');function setData(e){e.forEach((e,t)=>{e.dataset.index=t,0===t?(e.classList.add("active"),linkShow(e),btnShow(e)):(linkHide(e),btnHide(e))})}function classRemove(e,t){e[t].classList.remove("active")}function classAdd(e,t){e[t].classList.add("active")}function linkHide(e){e.querySelectorAll("a").forEach(e=>{e.setAttribute("tabindex",-1)})}function linkShow(e){e.querySelectorAll("a").forEach(e=>{e.setAttribute("tabindex",0)})}function toggleActive(e){for(let t=0;t<slideItems.length;t++)t===Number(e)?(classAdd(navItems,t),classAdd(slideItems,t),lineChoose(t),slideNumber=t,headerBtnCheck()):(classRemove(navItems,t),classRemove(slideItems,t),lineDell(t))}function lineChoose(e){mapLines[e].forEach((function(e){e.classList.remove("visibility-hidden")}))}function lineDell(e){mapLines[e].forEach((function(e){e.classList.add("visibility-hidden")}))}function onRightHeaderButtonClick(){slideNumber+=1,headerBtnCheck();for(let e=0;e<slideItems.length;e++)slideNumber===e?(classAdd(navItems,e),classAdd(slideItems,e),lineChoose(e),linkShow(slideItems[e])):(classRemove(navItems,e),classRemove(slideItems,e),lineDell(e),linkHide(slideItems[e]));buttonRight.blur()}function onLeftHeaderButtonClick(){slideNumber-=1,headerBtnCheck();for(let e=0;e<slideItems.length;e++)slideNumber===e?(classAdd(navItems,e),classAdd(slideItems,e),lineChoose(e),linkShow(slideItems[e])):(classRemove(navItems,e),classRemove(slideItems,e),lineDell(e),linkHide(slideItems[e]));buttonLeft.blur()}function setSurfSlideSize(){slides.forEach((function(e){e.style.minWidth=slideWidth+"px"}))}function onRightSurfButtonClick(){let e=slidesCount-(Math.abs(position)+slidesToShow*slideWidth)/slideWidth;position-=e>=slidesToScrol?movePosition:e*slideWidth,setPosition(),windowWidth<530&&(surfActiveslideNumber+=1,showSurfLocCard(slidesInner[surfActiveslideNumber])),surfBtncheck()}function onLeftSurfButtonClick(){let e=Math.abs(position)/slideWidth;position+=e>=slidesToScrol?movePosition:e*slideWidth,setPosition(),windowWidth<530&&(surfActiveslideNumber-=1,showSurfLocCard(slidesInner[surfActiveslideNumber])),surfBtncheck()}function setPosition(){track.style.transform="translateX("+position+"px)"}function onTouchStart(e){const t=e.touches[0];x1=t.clientX}function onTouchMove(e){if(!x1)return!1;let t=e.touches[0].clientX-x1;console.log(t),t>5&&!SurfButtonLeft.disabled?onLeftSurfButtonClick():t<-5&&!SurfButtonRight.disabled&&onRightSurfButtonClick(),x1=null}function setActiveSurfSlide(){windowWidth<530?setAllSlidesActive(slidesInner):setDataForSurfSlides(slidesInner)}function setAllSlidesActive(e){e.forEach((e,t)=>{e.classList.add("active")})}function setDataForSurfSlides(e){e.forEach((e,t)=>{e.dataset.index=t,t===surfActiveslideNumber?e.classList.add("active"):e.classList.remove("active")})}function toggleActiveSurfSlide(e){for(let t=0;t<slidesInner.length;t++)t===Number(e)?(classAdd(slidesInner,t),showSurfLocCard(slidesInner[t])):classRemove(slidesInner,t)}function showSurfLocCard(e){let t=e.firstElementChild.textContent;for(let e=0;e<cardLocNames.length;e++){cardLocNames[e].textContent===t?classAdd(cards,e):classRemove(cards,e)}}function slideSetWidth(){let e=document.querySelectorAll(".slide-width"),t=document.querySelector(".container").clientWidth;e.forEach(e=>{e.style.width=t+"px"})}function flipSlideRight(e,t){for(let s=0;s<e.length;s++)t===s?(classAdd(e,s),linkShow(e[s])):(classRemove(e,s),linkHide(e[s]))}function flipSlideLeft(e,t){for(let s=0;s<e.length;s++)t===s?(classAdd(e,s),linkShow(e[s])):(classRemove(e,s),linkHide(e[s]))}function onRightTravelButtonClick(){travelSlideNumber+=1,travelBtnCheck(),flipSlideRight(travelSlides,travelSlideNumber),travelRightButton.blur()}function onLeftTravelButtonClick(){travelSlideNumber-=1,travelBtnCheck(),flipSlideLeft(travelSlides,travelSlideNumber),travelLeftButton.blur()}function onRightShopButtonClick(){shopSlideNumber+=1,shopBtnCheck(),flipSlideRight(shopSlides,shopSlideNumber),shopRightButton.blur()}function onLeftShopButtonClick(){shopSlideNumber-=1,shopBtnCheck(),flipSlideLeft(shopSlides,shopSlideNumber),shopLeftButton.blur()}function btnHide(e){e.querySelectorAll("button").forEach(e=>{e.setAttribute("disabled","disabled")})}function btnShow(e){e.querySelectorAll("button").forEach(e=>{e.removeAttribute("disabled")})}function onRightSleepButtonClick(){sleepSlideNumber+=1,sleepBtnCheck();for(let e=0;e<sleepSlides.length;e++)sleepSlideNumber===e?(classAdd(sleepSlides,e),stayPrice(e),linkShow(sleepSlides[e]),btnShow(sleepSlides[e])):(classRemove(sleepSlides,e),linkHide(sleepSlides[e]),btnHide(sleepSlides[e]));sleepRightButton.blur()}function onLeftSleepButtonClick(){sleepSlideNumber-=1,sleepBtnCheck();for(let e=0;e<sleepSlides.length;e++)sleepSlideNumber===e?(classAdd(sleepSlides,e),stayPrice(e),linkShow(sleepSlides[e]),btnShow(sleepSlides[e])):(classRemove(sleepSlides,e),linkHide(sleepSlides[e]),btnHide(sleepSlides[e]));sleepLeftButton.blur()}function sleepSlideActiveCheck(){}function plus(e){e.textContent=Number(e.textContent)+1+""}function minus(e){e.textContent=Number(e.textContent)-1+""}function stayPrice(e){let t=(Number(guestsCount[e].textContent)-1)*Number(price[e].dataset.guests)+Number(nightsCount[e].textContent)*Number(price[e].dataset.nights);price[e].textContent="$"+t+" USD"}function surfBtncheck(){SurfButtonLeft.disabled=0===position,SurfButtonRight.disabled=position<=-(slidesCount-slidesToShow)*slideWidth}function headerBtnCheck(){buttonRight.disabled=slideNumber===slideItems.length-1,buttonLeft.disabled=0===slideNumber}function travelBtnCheck(){travelLeftButton.disabled=0===travelSlideNumber,travelRightButton.disabled=travelSlideNumber===travelSlides.length-1}function sleepBtnCheck(){sleepLeftButton.disabled=0===sleepSlideNumber,sleepRightButton.disabled=sleepSlideNumber===sleepSlides.length-1}function shopBtnCheck(){shopLeftButton.disabled=0===shopSlideNumber,shopRightButton.disabled=shopSlideNumber===shopSlides.length-1}function guestBtnCheck(){guestPlusButton[sleepSlideNumber].disabled=9===Number(guestsCount[sleepSlideNumber].textContent),guestMinusButton[sleepSlideNumber].disabled=1===Number(guestsCount[sleepSlideNumber].textContent)}function nightsBtnCheck(){nightPlusButton[sleepSlideNumber].disabled=14===Number(nightsCount[sleepSlideNumber].textContent),nightMinusButton[sleepSlideNumber].disabled=1===Number(nightsCount[sleepSlideNumber].textContent)}function btnCheck(){surfBtncheck(),headerBtnCheck(),travelBtnCheck(),sleepBtnCheck(),guestBtnCheck(),nightsBtnCheck(),shopBtnCheck()}function init(){slidesToShow=4,slidesCount=slides.length,movePosition=slidesToScrol*slideWidth,windowWidth=container.clientWidth,windowWidth<=1300&&windowWidth>=768?slidesToShow=3:windowWidth<767&&windowWidth>=530?slidesToShow=2:windowWidth<530&&(slidesToShow=1),slideWidth=surfContainer.clientWidth/slidesToShow,setSurfSlideSize(),slideSetWidth(),setActiveSurfSlide(),showSurfLocCard(slidesInner[surfActiveslideNumber]),setData(navItems),setData(slideItems),setData(travelSlides),setData(sleepSlides),setData(shopSlides),btnCheck(),stayPrice(sleepSlideNumber)}anchors.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let s=e.getAttribute("href");document.querySelector(""+s).scrollIntoView({behavior:"smooth",block:"start"}),e.blur()})}),navBox.addEventListener("click",(function(e){e.target.classList.contains("slider-dots__box")&&toggleActive(e.target.dataset.index)})),buttonRight.addEventListener("click",onRightHeaderButtonClick),buttonLeft.addEventListener("click",onLeftHeaderButtonClick),SurfButtonRight.addEventListener("click",onRightSurfButtonClick),SurfButtonLeft.addEventListener("click",onLeftSurfButtonClick),track.addEventListener("touchstart",onTouchStart),track.addEventListener("touchmove",onTouchMove),track.addEventListener("click",(function(e){e.target.classList.contains("surf-box__inner")&&toggleActiveSurfSlide(e.target.dataset.index)})),travelRightButton.addEventListener("click",onRightTravelButtonClick),travelLeftButton.addEventListener("click",onLeftTravelButtonClick),shopRightButton.addEventListener("click",onRightShopButtonClick),shopLeftButton.addEventListener("click",onLeftShopButtonClick),sleepRightButton.addEventListener("click",onRightSleepButtonClick),sleepLeftButton.addEventListener("click",onLeftSleepButtonClick),quantity.forEach(e=>{e.addEventListener("click",(function(e){switch(!0){case e.target.classList.contains("nights-plus"):plus(nightsCount[sleepSlideNumber]),nightsBtnCheck(),stayPrice(sleepSlideNumber);break;case e.target.classList.contains("nights-minus"):minus(nightsCount[sleepSlideNumber]),nightsBtnCheck(),stayPrice(sleepSlideNumber);break;case e.target.classList.contains("guests-plus"):plus(guestsCount[sleepSlideNumber]),guestBtnCheck(),stayPrice(sleepSlideNumber);break;case e.target.classList.contains("guests-minus"):minus(guestsCount[sleepSlideNumber]),guestBtnCheck(),stayPrice(sleepSlideNumber)}}))}),surfBoardCircleBtn.forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("minus")})}),menuBtn.addEventListener("click",()=>{menu.classList.toggle("show")}),window.addEventListener("resize",init),init();